<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="next" href="Irmin.BC.History.html">
<link rel="Up" href="Irmin.BC.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Irmin" rel="Chapter" href="Irmin.html">
<link title="Irmin_mem" rel="Chapter" href="Irmin_mem.html">
<link title="Irmin_unix" rel="Chapter" href="Irmin_unix.html"><title>Irmin.BC.Repo</title>
</head>
<body>
<div class="navbar">&nbsp;<a class="up" href="Irmin.BC.html" title="Irmin.BC">Up</a>
&nbsp;<a class="post" href="Irmin.BC.History.html" title="Irmin.BC.History">Next</a>
</div>
<h1>Module <a href="type_Irmin.BC.Repo.html">Irmin.BC.Repo</a></h1>

<pre><span class="keyword">module</span> Repo: <code class="code"><span class="keyword">sig</span></code> <a href="Irmin.BC.Repo.html">..</a> <code class="code"><span class="keyword">end</span></code></pre><hr width="100%">
<br>
A repository contains a set of branches.<br>

<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> </pre>
<div class="info ">
The type of repository handles.<br>
</div>


<pre><span id="VALcreate"><span class="keyword">val</span> create</span> : <code class="type"><a href="Irmin.html#TYPEconfig">Irmin.config</a> -> <a href="Irmin.BC.Repo.html#TYPEt">t</a> Lwt.t</code></pre><div class="info ">
<code class="code">create config</code> connects to a repository in a backend-specific manner.<br>
</div>

<pre><span id="VALbranches"><span class="keyword">val</span> branches</span> : <code class="type"><a href="Irmin.BC.Repo.html#TYPEt">t</a> -> <a href="Irmin.BC.html#TYPEbranch_id">Irmin.BC.branch_id</a> list Lwt.t</code></pre><div class="info ">
The list of all persistent branch names. Similar to to <code class="code">git
        branch -a</code>.<br>
</div>

<pre><span id="VALremove_branch"><span class="keyword">val</span> remove_branch</span> : <code class="type"><a href="Irmin.BC.Repo.html#TYPEt">t</a> -> <a href="Irmin.BC.html#TYPEbranch_id">Irmin.BC.branch_id</a> -> unit Lwt.t</code></pre><div class="info ">
<code class="code">remove_branch t name</code> removes the branch <code class="code">name</code> from the local store.
        Similar to <code class="code">git branch -<span class="constructor">D</span> &lt;name&gt;</code><br>
</div>

<pre><span id="VALheads"><span class="keyword">val</span> heads</span> : <code class="type"><a href="Irmin.BC.Repo.html#TYPEt">t</a> -> <a href="Irmin.BC.html#TYPEcommit_id">Irmin.BC.commit_id</a> list Lwt.t</code></pre><div class="info ">
<code class="code">heads t</code> is the list of all the heads in local store. Similar
        to <code class="code">git rev-list --all</code>.<br>
</div>

<pre><span id="VALwatch_branches"><span class="keyword">val</span> watch_branches</span> : <code class="type"><a href="Irmin.BC.Repo.html#TYPEt">t</a> -><br>       ?init:(<a href="Irmin.BC.html#TYPEbranch_id">Irmin.BC.branch_id</a> * <a href="Irmin.BC.html#TYPEcommit_id">Irmin.BC.commit_id</a>) list -><br>       (<a href="Irmin.BC.html#TYPEbranch_id">Irmin.BC.branch_id</a> -> <a href="Irmin.BC.html#TYPEcommit_id">Irmin.BC.commit_id</a> <a href="Irmin.html#TYPEdiff">Irmin.diff</a> -> unit Lwt.t) -><br>       (unit -> unit Lwt.t) Lwt.t</code></pre><div class="info ">
<code class="code">watch_branches t f</code> calls <code class="code">f</code> every time a branch is added, removed or
        updated in the local store. Return a function to remove the
        handler.<br>
</div>

<pre><span id="VALexport"><span class="keyword">val</span> export</span> : <code class="type">?full:bool -><br>       ?depth:int -><br>       ?min:<a href="Irmin.BC.html#TYPEcommit_id">Irmin.BC.commit_id</a> list -><br>       ?max:<a href="Irmin.BC.html#TYPEcommit_id">Irmin.BC.commit_id</a> list -> <a href="Irmin.BC.Repo.html#TYPEt">t</a> -> <a href="Irmin.BC.html#TYPEslice">Irmin.BC.slice</a> Lwt.t</code></pre><div class="info ">
<code class="code">export t ~depth ~min ~max</code> exports the store slice between
        <code class="code">min</code> and <code class="code">max</code>, using at most <code class="code">depth</code> history depth (starting
        from the max).
<p>

        If <code class="code">max</code> is not specified, use the current <code class="code">heads</code>. If <code class="code">min</code> is
        not specified, use an unbound past (but can still be limited by
        <code class="code">depth</code>).
<p>

        <code class="code">depth</code> is used to limit the depth of the commit history. <code class="code"><span class="constructor">None</span></code>
        here means no limitation.
<p>

        If <code class="code">full</code> is set (default is true), the full graph, including the
        commits, nodes and contents, is exported, otherwise it is the
        commit history graph only.<br>
</div>

<pre><span id="VALimport"><span class="keyword">val</span> import</span> : <code class="type"><a href="Irmin.BC.Repo.html#TYPEt">t</a> -> <a href="Irmin.BC.html#TYPEslice">Irmin.BC.slice</a> -> [ `Error | `Ok ] Lwt.t</code></pre><div class="info ">
<code class="code">import t s</code> imports the contents of the slice <code class="code">s</code> in <code class="code">t</code>. Does
        not modify branches.<br>
</div>

<pre><span id="VALtask_of_commit_id"><span class="keyword">val</span> task_of_commit_id</span> : <code class="type"><a href="Irmin.BC.Repo.html#TYPEt">t</a> -> <a href="Irmin.BC.html#TYPEcommit_id">Irmin.BC.commit_id</a> -> <a href="Irmin.html#TYPEtask">Irmin.task</a> Lwt.t</code></pre><div class="info ">
<code class="code">task_of_commit_id t h</code> is the task which created <code class="code">h</code>. Useful to
        retrieve the commit date and the committer name.<br>
</div>
</body></html>