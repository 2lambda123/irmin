<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Make (irmin-test.Irmin_test__.Store.Make)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../../index.html">irmin-test</a> &#x00BB; <a href="../../index.html">Irmin_test__</a> &#x00BB; <a href="../index.html">Store</a> &#x00BB; Make</nav><h1>Module <code>Store.Make</code></h1></header><h3 class="heading">Parameters</h3><ul><li><code><a href="argument-1-S/index.html">S</a> : <a href="../../Common/index.html#module-type-S">Irmin_test__.Common.S</a></code></li></ul><h3 class="heading">Signature</h3><div class="spec module" id="module-P"><a href="#module-P" class="anchor"></a><code><span class="keyword">module</span> P = <a href="argument-1-S/index.html#module-Private">S.Private</a></code></div><div class="spec module" id="module-Graph"><a href="#module-Graph" class="anchor"></a><code><span class="keyword">module</span> <a href="Graph/index.html">Graph</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-History"><a href="#module-History" class="anchor"></a><code><span class="keyword">module</span> <a href="History/index.html">History</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-v"><a href="#val-v" class="anchor"></a><code><span class="keyword">val</span> v : <a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a> <span>&#45;&gt;</span> <span><span>[ `Read ]</span> <a href="argument-1-S/Private/Contents/index.html#type-t">P.Contents.t</a></span></code></dt><dt class="spec value" id="val-n"><a href="#val-n" class="anchor"></a><code><span class="keyword">val</span> n : <a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a> <span>&#45;&gt;</span> <span><span>[ `Read ]</span> <a href="argument-1-S/Private/Node/index.html#type-t">P.Node.t</a></span></code></dt><dt class="spec value" id="val-ct"><a href="#val-ct" class="anchor"></a><code><span class="keyword">val</span> ct : <a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a> <span>&#45;&gt;</span> <span><span>[ `Read ]</span> <a href="argument-1-S/Private/Commit/index.html#type-t">P.Commit.t</a></span></code></dt><dt class="spec value" id="val-g"><a href="#val-g" class="anchor"></a><code><span class="keyword">val</span> g : <a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a> <span>&#45;&gt;</span> <span><span>[ `Read ]</span> <a href="argument-1-S/Private/Node/index.html#type-t">P.Node.t</a></span></code></dt><dt class="spec value" id="val-h"><a href="#val-h" class="anchor"></a><code><span class="keyword">val</span> h : <a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a> <span>&#45;&gt;</span> <span><span>[ `Read ]</span> <a href="argument-1-S/Private/Commit/index.html#type-t">P.Commit.t</a></span></code></dt><dt class="spec value" id="val-v1"><a href="#val-v1" class="anchor"></a><code><span class="keyword">val</span> v1 : string</code></dt><dt class="spec value" id="val-v2"><a href="#val-v2" class="anchor"></a><code><span class="keyword">val</span> v2 : string</code></dt><dt class="spec value" id="val-with_contents"><a href="#val-with_contents" class="anchor"></a><code><span class="keyword">val</span> with_contents : <a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a> <span>&#45;&gt;</span> <span>(<span><span>[ `Read <span>| `Write</span> ]</span> <a href="argument-1-S/Private/Contents/index.html#type-t">P.Contents.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span></code></dt><dt class="spec value" id="val-with_node"><a href="#val-with_node" class="anchor"></a><code><span class="keyword">val</span> with_node : <a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a> <span>&#45;&gt;</span> <span>(<span><span>[ `Read <span>| `Write</span> ]</span> <a href="argument-1-S/Private/Node/index.html#type-t">P.Node.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span></code></dt><dt class="spec value" id="val-with_commit"><a href="#val-with_commit" class="anchor"></a><code><span class="keyword">val</span> with_commit : <a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a> <span>&#45;&gt;</span> <span>(<span><span>[ `Read <span>| `Write</span> ]</span> <a href="argument-1-S/Private/Commit/index.html#type-t">P.Commit.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span></code></dt><dt class="spec value" id="val-kv1"><a href="#val-kv1" class="anchor"></a><code><span class="keyword">val</span> kv1 : <span>repo:<a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a></span> <span>&#45;&gt;</span> <span><a href="argument-1-S/Private/Contents/index.html#type-key">P.Contents.key</a> Lwt.t</span></code></dt><dt class="spec value" id="val-kv2"><a href="#val-kv2" class="anchor"></a><code><span class="keyword">val</span> kv2 : <span>repo:<a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a></span> <span>&#45;&gt;</span> <span><a href="argument-1-S/Private/Contents/index.html#type-key">P.Contents.key</a> Lwt.t</span></code></dt><dt class="spec value" id="val-normal"><a href="#val-normal" class="anchor"></a><code><span class="keyword">val</span> normal : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span>[&gt; <span>`Contents of <span class="type-var">'a</span> * <a href="argument-1-S/Metadata/index.html#type-t">S.Metadata.t</a></span> ]</span></code></dt><dt class="spec value" id="val-b1"><a href="#val-b1" class="anchor"></a><code><span class="keyword">val</span> b1 : string</code></dt><dt class="spec value" id="val-b2"><a href="#val-b2" class="anchor"></a><code><span class="keyword">val</span> b2 : string</code></dt><dt class="spec value" id="val-n1"><a href="#val-n1" class="anchor"></a><code><span class="keyword">val</span> n1 : <span>repo:<a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a></span> <span>&#45;&gt;</span> <span><a href="Graph/index.html#type-node">Graph.node</a> Lwt.t</span></code></dt><dt class="spec value" id="val-n2"><a href="#val-n2" class="anchor"></a><code><span class="keyword">val</span> n2 : <span>repo:<a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a></span> <span>&#45;&gt;</span> <span><a href="Graph/index.html#type-node">Graph.node</a> Lwt.t</span></code></dt><dt class="spec value" id="val-n3"><a href="#val-n3" class="anchor"></a><code><span class="keyword">val</span> n3 : <span>repo:<a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a></span> <span>&#45;&gt;</span> <span><a href="Graph/index.html#type-node">Graph.node</a> Lwt.t</span></code></dt><dt class="spec value" id="val-n4"><a href="#val-n4" class="anchor"></a><code><span class="keyword">val</span> n4 : <span>repo:<a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a></span> <span>&#45;&gt;</span> <span><a href="Graph/index.html#type-node">Graph.node</a> Lwt.t</span></code></dt><dt class="spec value" id="val-r1"><a href="#val-r1" class="anchor"></a><code><span class="keyword">val</span> r1 : <span>repo:<a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a></span> <span>&#45;&gt;</span> <span><a href="argument-1-S/index.html#type-commit">S.commit</a> Lwt.t</span></code></dt><dt class="spec value" id="val-r2"><a href="#val-r2" class="anchor"></a><code><span class="keyword">val</span> r2 : <span>repo:<a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a></span> <span>&#45;&gt;</span> <span><a href="argument-1-S/index.html#type-commit">S.commit</a> Lwt.t</span></code></dt><dt class="spec value" id="val-run"><a href="#val-run" class="anchor"></a><code><span class="keyword">val</span> run : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> <span>(<a href="argument-1-S/Repo/index.html#type-t">S.Repo.t</a> <span>&#45;&gt;</span> <span>unit Lwt.t</span>)</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-random_value"><a href="#val-random_value" class="anchor"></a><code><span class="keyword">val</span> random_value : int <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-random_path"><a href="#val-random_path" class="anchor"></a><code><span class="keyword">val</span> random_path : <span>label:int</span> <span>&#45;&gt;</span> <span>path:int</span> <span>&#45;&gt;</span> <span>string list</span></code></dt><dt class="spec value" id="val-random_node"><a href="#val-random_node" class="anchor"></a><code><span class="keyword">val</span> random_node : <span>label:int</span> <span>&#45;&gt;</span> <span>path:int</span> <span>&#45;&gt;</span> <span>value:int</span> <span>&#45;&gt;</span> <span>string list</span> * string</code></dt><dt class="spec value" id="val-random_nodes"><a href="#val-random_nodes" class="anchor"></a><code><span class="keyword">val</span> random_nodes : <span>?&#8288;label:int</span> <span>&#45;&gt;</span> <span>?&#8288;path:int</span> <span>&#45;&gt;</span> <span>?&#8288;value:int</span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><span>(<span>string list</span> * string)</span> list</span></code></dt><dt class="spec value" id="val-sleep"><a href="#val-sleep" class="anchor"></a><code><span class="keyword">val</span> sleep : <span>?&#8288;sleep_t:float</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span>unit Lwt.t</span></code></dt><dt class="spec value" id="val-retry"><a href="#val-retry" class="anchor"></a><code><span class="keyword">val</span> retry : <span>?&#8288;timeout:float</span> <span>&#45;&gt;</span> <span>?&#8288;sleep_t:float</span> <span>&#45;&gt;</span> <span>(string <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <span>unit Lwt.t</span></code></dt><dt class="spec value" id="val-old"><a href="#val-old" class="anchor"></a><code><span class="keyword">val</span> old : <span class="type-var">'a</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> <span><span><span>(<span><span class="type-var">'a</span> option</span>,Â <span class="type-var">'b</span>)</span> Result.result</span> Lwt.t</span></code></dt><dt class="spec value" id="val-test_two_close"><a href="#val-test_two_close" class="anchor"></a><code><span class="keyword">val</span> test_two_close : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_contents"><a href="#val-test_contents" class="anchor"></a><code><span class="keyword">val</span> test_contents : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-get"><a href="#val-get" class="anchor"></a><code><span class="keyword">val</span> get : <span><span class="type-var">'a</span> option</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-get_node"><a href="#val-get_node" class="anchor"></a><code><span class="keyword">val</span> get_node : <span>[&gt; <span>`Node of <span class="type-var">'a</span></span> ]</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt></dl><div class="spec module" id="module-H_node"><a href="#module-H_node" class="anchor"></a><code><span class="keyword">module</span> <a href="H_node/index.html">H_node</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-test_nodes"><a href="#val-test_nodes" class="anchor"></a><code><span class="keyword">val</span> test_nodes : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_commits"><a href="#val-test_commits" class="anchor"></a><code><span class="keyword">val</span> test_commits : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_branches"><a href="#val-test_branches" class="anchor"></a><code><span class="keyword">val</span> test_branches : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_watch_exn"><a href="#val-test_watch_exn" class="anchor"></a><code><span class="keyword">val</span> test_watch_exn : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_watches"><a href="#val-test_watches" class="anchor"></a><code><span class="keyword">val</span> test_watches : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_simple_merges"><a href="#val-test_simple_merges" class="anchor"></a><code><span class="keyword">val</span> test_simple_merges : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_history"><a href="#val-test_history" class="anchor"></a><code><span class="keyword">val</span> test_history : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_empty"><a href="#val-test_empty" class="anchor"></a><code><span class="keyword">val</span> test_empty : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_slice"><a href="#val-test_slice" class="anchor"></a><code><span class="keyword">val</span> test_slice : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_private_nodes"><a href="#val-test_private_nodes" class="anchor"></a><code><span class="keyword">val</span> test_private_nodes : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_stores"><a href="#val-test_stores" class="anchor"></a><code><span class="keyword">val</span> test_stores : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-stats_t"><a href="#val-stats_t" class="anchor"></a><code><span class="keyword">val</span> stats_t : <span><a href="argument-1-S/Tree/index.html#type-stats">S.Tree.stats</a> Alcotest.testable</span></code></dt><dt class="spec value" id="val-empty_stats"><a href="#val-empty_stats" class="anchor"></a><code><span class="keyword">val</span> empty_stats : <a href="argument-1-S/Tree/index.html#type-stats">S.Tree.stats</a></code></dt><dt class="spec value" id="val-save_tree"><a href="#val-save_tree" class="anchor"></a><code><span class="keyword">val</span> save_tree : <a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a> <span>&#45;&gt;</span> <a href="argument-1-S/index.html#type-tree">S.tree</a> <span>&#45;&gt;</span> <span>unit Lwt.t</span></code></dt><dt class="spec value" id="val-inspect"><a href="#val-inspect" class="anchor"></a><code><span class="keyword">val</span> inspect : <span><span>[ `Contents <span><span>| `Node</span> of <span>[ `Hash <span>| `Map</span> <span>| `Value</span> ]</span></span> ]</span> Alcotest.testable</span></code></dt><dt class="spec value" id="val-test_tree_caches"><a href="#val-test_tree_caches" class="anchor"></a><code><span class="keyword">val</span> test_tree_caches : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_trees"><a href="#val-test_trees" class="anchor"></a><code><span class="keyword">val</span> test_trees : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt></dl><div class="spec module" id="module-Sync"><a href="#module-Sync" class="anchor"></a><code><span class="keyword">module</span> <a href="Sync/index.html">Sync</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-test_sync"><a href="#val-test_sync" class="anchor"></a><code><span class="keyword">val</span> test_sync : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt></dl><div class="spec module" id="module-Dot"><a href="#module-Dot" class="anchor"></a><code><span class="keyword">module</span> <a href="Dot/index.html">Dot</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-output_file"><a href="#val-output_file" class="anchor"></a><code><span class="keyword">val</span> output_file : <a href="argument-1-S/index.html#type-t">S.t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span>unit Lwt.t</span></code></dt><dt class="spec value" id="val-test_merge"><a href="#val-test_merge" class="anchor"></a><code><span class="keyword">val</span> test_merge : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_merge_unrelated"><a href="#val-test_merge_unrelated" class="anchor"></a><code><span class="keyword">val</span> test_merge_unrelated : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-write"><a href="#val-write" class="anchor"></a><code><span class="keyword">val</span> write : <span>(int <span>&#45;&gt;</span> <span>unit Lwt.t</span>)</span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><span>(unit <span>&#45;&gt;</span> <span>unit Lwt.t</span>)</span> list</span></code></dt><dt class="spec value" id="val-perform"><a href="#val-perform" class="anchor"></a><code><span class="keyword">val</span> perform : <span><span>(unit <span>&#45;&gt;</span> <span>unit Lwt.t</span>)</span> list</span> <span>&#45;&gt;</span> <span>unit Lwt.t</span></code></dt><dt class="spec value" id="val-read"><a href="#val-read" class="anchor"></a><code><span class="keyword">val</span> read : <span>(int <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span>)</span> <span>&#45;&gt;</span> <span>(int <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><span>(unit <span>&#45;&gt;</span> <span><span class="type-var">'b</span> Lwt.t</span>)</span> list</span></code></dt><dt class="spec value" id="val-test_concurrent_low"><a href="#val-test_concurrent_low" class="anchor"></a><code><span class="keyword">val</span> test_concurrent_low : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_concurrent_updates"><a href="#val-test_concurrent_updates" class="anchor"></a><code><span class="keyword">val</span> test_concurrent_updates : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_concurrent_merges"><a href="#val-test_concurrent_merges" class="anchor"></a><code><span class="keyword">val</span> test_concurrent_merges : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_write_error"><a href="#val-pp_write_error" class="anchor"></a><code><span class="keyword">val</span> pp_write_error : <span><a href="argument-1-S/index.html#type-write_error">S.write_error</a> <a href="../../../../irmin/Irmin/Type/index.html#type-pp">Irmin.Type.pp</a></span></code></dt><dt class="spec value" id="val-tree_t"><a href="#val-tree_t" class="anchor"></a><code><span class="keyword">val</span> tree_t : <span><a href="argument-1-S/index.html#type-tree">S.tree</a> Alcotest.testable</span></code></dt><dt class="spec value" id="val-test_with_tree"><a href="#val-test_with_tree" class="anchor"></a><code><span class="keyword">val</span> test_with_tree : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_concurrent_head_updates"><a href="#val-test_concurrent_head_updates" class="anchor"></a><code><span class="keyword">val</span> test_concurrent_head_updates : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_shallow_objects"><a href="#val-test_shallow_objects" class="anchor"></a><code><span class="keyword">val</span> test_shallow_objects : <a href="../../Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt></dl></div></body></html>