<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Make_Layered (irmin-test.Irmin_test__Layered_store.Make_Layered)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">irmin-test</a> &#x00BB; <a href="../index.html">Irmin_test__Layered_store</a> &#x00BB; Make_Layered</nav><h1>Module <code>Irmin_test__Layered_store.Make_Layered</code></h1></header><h3 class="heading">Parameters</h3><ul><li><code><a href="argument-1-S/index.html">S</a> : <a href="../../Irmin_test__/Common/index.html#module-type-LAYERED_STORE">Irmin_test__.Common.LAYERED_STORE</a></code></li></ul><h3 class="heading">Signature</h3><div class="spec module" id="module-P"><a href="#module-P" class="anchor"></a><code><span class="keyword">module</span> P = <a href="argument-1-S/index.html#module-Private">S.Private</a></code></div><div class="spec module" id="module-Graph"><a href="#module-Graph" class="anchor"></a><code><span class="keyword">module</span> <a href="Graph/index.html">Graph</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-History"><a href="#module-History" class="anchor"></a><code><span class="keyword">module</span> <a href="History/index.html">History</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-v1"><a href="#val-v1" class="anchor"></a><code><span class="keyword">val</span> v1 : string</code></dt><dt class="spec value" id="val-v2"><a href="#val-v2" class="anchor"></a><code><span class="keyword">val</span> v2 : string</code></dt><dt class="spec value" id="val-v3"><a href="#val-v3" class="anchor"></a><code><span class="keyword">val</span> v3 : string</code></dt><dt class="spec value" id="val-v4"><a href="#val-v4" class="anchor"></a><code><span class="keyword">val</span> v4 : string</code></dt><dt class="spec value" id="val-v5"><a href="#val-v5" class="anchor"></a><code><span class="keyword">val</span> v5 : string</code></dt><dt class="spec value" id="val-v6"><a href="#val-v6" class="anchor"></a><code><span class="keyword">val</span> v6 : string</code></dt><dt class="spec value" id="val-b1"><a href="#val-b1" class="anchor"></a><code><span class="keyword">val</span> b1 : string</code></dt><dt class="spec value" id="val-b2"><a href="#val-b2" class="anchor"></a><code><span class="keyword">val</span> b2 : string</code></dt><dt class="spec value" id="val-with_contents"><a href="#val-with_contents" class="anchor"></a><code><span class="keyword">val</span> with_contents : <a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a> <span>&#45;&gt;</span> <span>(<span><a href="../../../irmin/Irmin__/Import/index.html#type-read_write">Irmin__.Import.read_write</a> <a href="argument-1-S/Private/Contents/index.html#type-t">P.Contents.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span></code></dt><dt class="spec value" id="val-with_node"><a href="#val-with_node" class="anchor"></a><code><span class="keyword">val</span> with_node : <a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a> <span>&#45;&gt;</span> <span>(<span><a href="../../../irmin/Irmin__/Import/index.html#type-read_write">Irmin__.Import.read_write</a> <a href="argument-1-S/Private/Node/index.html#type-t">P.Node.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span></code></dt><dt class="spec value" id="val-with_commit"><a href="#val-with_commit" class="anchor"></a><code><span class="keyword">val</span> with_commit : <a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a> <span>&#45;&gt;</span> <span>(<span><a href="../../../irmin/Irmin__/Import/index.html#type-read_write">Irmin__.Import.read_write</a> <a href="argument-1-S/Private/Commit/index.html#type-t">P.Commit.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span></code></dt><dt class="spec value" id="val-with_info"><a href="#val-with_info" class="anchor"></a><code><span class="keyword">val</span> with_info : <a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span>(<span><a href="../../../irmin/Irmin__/Import/index.html#type-read_write">Irmin__.Import.read_write</a> <a href="argument-1-S/Private/Commit/index.html#type-t">P.Commit.t</a></span> <span>&#45;&gt;</span> <span>info:<a href="../../../irmin/Irmin/Info/index.html#type-t">Irmin.Info.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span></code></dt><dt class="spec value" id="val-normal"><a href="#val-normal" class="anchor"></a><code><span class="keyword">val</span> normal : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span>[&gt; <span>`Contents of <span class="type-var">'a</span> * <a href="argument-1-S/Metadata/index.html#type-t">S.Metadata.t</a></span> ]</span></code></dt><dt class="spec value" id="val-h"><a href="#val-h" class="anchor"></a><code><span class="keyword">val</span> h : <a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a> <span>&#45;&gt;</span> <span><a href="../../../irmin/Irmin__/Import/index.html#type-read">Irmin__.Import.read</a> <a href="argument-1-S/Private/Commit/index.html#type-t">P.Commit.t</a></span></code></dt><dt class="spec value" id="val-n"><a href="#val-n" class="anchor"></a><code><span class="keyword">val</span> n : <a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a> <span>&#45;&gt;</span> <span><a href="../../../irmin/Irmin__/Import/index.html#type-read">Irmin__.Import.read</a> <a href="argument-1-S/Private/Node/index.html#type-t">P.Node.t</a></span></code></dt><dt class="spec value" id="val-n1"><a href="#val-n1" class="anchor"></a><code><span class="keyword">val</span> n1 : <span>repo:<a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a></span> <span>&#45;&gt;</span> <span><a href="Graph/index.html#type-node">Graph.node</a> Lwt.t</span></code></dt><dt class="spec value" id="val-r1"><a href="#val-r1" class="anchor"></a><code><span class="keyword">val</span> r1 : <span>repo:<a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a></span> <span>&#45;&gt;</span> <span><a href="argument-1-S/index.html#type-commit">S.commit</a> Lwt.t</span></code></dt><dt class="spec value" id="val-r2"><a href="#val-r2" class="anchor"></a><code><span class="keyword">val</span> r2 : <span>repo:<a href="argument-1-S/Private/Repo/index.html#type-t">P.Repo.t</a></span> <span>&#45;&gt;</span> <span><a href="argument-1-S/index.html#type-commit">S.commit</a> Lwt.t</span></code></dt><dt class="spec value" id="val-run"><a href="#val-run" class="anchor"></a><code><span class="keyword">val</span> run : <a href="../../Irmin_test__/Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> <span>(<a href="argument-1-S/Repo/index.html#type-t">S.Repo.t</a> <span>&#45;&gt;</span> <span>unit Lwt.t</span>)</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-fail_with_none"><a href="#val-fail_with_none" class="anchor"></a><code><span class="keyword">val</span> fail_with_none : <span><span><span class="type-var">'a</span> option</span> Lwt.t</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span><span class="type-var">'a</span> Lwt.t</span></code></dt><dt class="spec value" id="val-fail_with_some"><a href="#val-fail_with_some" class="anchor"></a><code><span class="keyword">val</span> fail_with_some : <span><span><span class="type-var">'a</span> option</span> Lwt.t</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span>unit Lwt.t</span></code></dt><dt class="spec value" id="val-test_graph_and_history"><a href="#val-test_graph_and_history" class="anchor"></a><code><span class="keyword">val</span> test_graph_and_history : <a href="../../Irmin_test__/Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_gc"><a href="#val-test_gc" class="anchor"></a><code><span class="keyword">val</span> test_gc : <a href="../../Irmin_test__/Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_fail_branch"><a href="#val-test_fail_branch" class="anchor"></a><code><span class="keyword">val</span> test_fail_branch : <a href="../../Irmin_test__/Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-check_layer"><a href="#val-check_layer" class="anchor"></a><code><span class="keyword">val</span> check_layer : <a href="argument-1-S/index.html#type-repo">S.repo</a> <span>&#45;&gt;</span> <a href="argument-1-S/index.html#type-store_handle">S.store_handle</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="../../../irmin-layers/Irmin_layers/Layer_id/index.html#type-t">Irmin_layers.Layer_id.t</a> <span>&#45;&gt;</span> <span>unit Lwt.t</span></code></dt><dt class="spec value" id="val-check_layer_for_commits"><a href="#val-check_layer_for_commits" class="anchor"></a><code><span class="keyword">val</span> check_layer_for_commits : <a href="argument-1-S/index.html#type-repo">S.repo</a> <span>&#45;&gt;</span> <a href="argument-1-S/index.html#type-commit">S.commit</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="../../../irmin-layers/Irmin_layers/Layer_id/index.html#type-t">Irmin_layers.Layer_id.t</a> <span>&#45;&gt;</span> <span>unit Lwt.t</span></code></dt><dt class="spec value" id="val-test_set"><a href="#val-test_set" class="anchor"></a><code><span class="keyword">val</span> test_set : <a href="../../Irmin_test__/Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_set_tree"><a href="#val-test_set_tree" class="anchor"></a><code><span class="keyword">val</span> test_set_tree : <a href="../../Irmin_test__/Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_merge_into_deleted_branch"><a href="#val-test_merge_into_deleted_branch" class="anchor"></a><code><span class="keyword">val</span> test_merge_into_deleted_branch : <a href="../../Irmin_test__/Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_merge_with_deleted_branch"><a href="#val-test_merge_with_deleted_branch" class="anchor"></a><code><span class="keyword">val</span> test_merge_with_deleted_branch : <a href="../../Irmin_test__/Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-log_stats"><a href="#val-log_stats" class="anchor"></a><code><span class="keyword">val</span> log_stats : unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_squash"><a href="#val-test_squash" class="anchor"></a><code><span class="keyword">val</span> test_squash : <a href="../../Irmin_test__/Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_branch_squash"><a href="#val-test_branch_squash" class="anchor"></a><code><span class="keyword">val</span> test_branch_squash : <a href="../../Irmin_test__/Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_consecutive_freeze"><a href="#val-test_consecutive_freeze" class="anchor"></a><code><span class="keyword">val</span> test_consecutive_freeze : <a href="../../Irmin_test__/Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_freeze_tree"><a href="#val-test_freeze_tree" class="anchor"></a><code><span class="keyword">val</span> test_freeze_tree : <a href="../../Irmin_test__/Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_copy_in_upper"><a href="#val-test_copy_in_upper" class="anchor"></a><code><span class="keyword">val</span> test_copy_in_upper : <a href="../../Irmin_test__/Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_copy_in_upper_set"><a href="#val-test_copy_in_upper_set" class="anchor"></a><code><span class="keyword">val</span> test_copy_in_upper_set : <a href="../../Irmin_test__/Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_keep_heads"><a href="#val-test_keep_heads" class="anchor"></a><code><span class="keyword">val</span> test_keep_heads : <a href="../../Irmin_test__/Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt></dl><div class="spec module" id="module-Hook"><a href="#module-Hook" class="anchor"></a><code><span class="keyword">module</span> Hook = <a href="argument-1-S/Private_layer/index.html#module-Hook">S.Private_layer.Hook</a></code></div><dl><dt class="spec value" id="val-before_copy"><a href="#val-before_copy" class="anchor"></a><code><span class="keyword">val</span> before_copy : <span>(unit <span>&#45;&gt;</span> <span>unit Lwt.t</span>)</span> <span>&#45;&gt;</span> <span><span>[&gt; `Before_Copy ]</span> <a href="argument-1-S/Private_layer/Hook/index.html#type-t">Hook.t</a></span> * <span>unit Lwt.t</span></code></dt><dt class="spec value" id="val-before_copy_newies"><a href="#val-before_copy_newies" class="anchor"></a><code><span class="keyword">val</span> before_copy_newies : <span>(unit <span>&#45;&gt;</span> <span>unit Lwt.t</span>)</span> <span>&#45;&gt;</span> <span><span>[&gt; `Before_Copy_Newies ]</span> <a href="argument-1-S/Private_layer/Hook/index.html#type-t">Hook.t</a></span> * <span>unit Lwt.t</span></code></dt><dt class="spec value" id="val-before_copy_last_newies"><a href="#val-before_copy_last_newies" class="anchor"></a><code><span class="keyword">val</span> before_copy_last_newies : <span>(unit <span>&#45;&gt;</span> <span>unit Lwt.t</span>)</span> <span>&#45;&gt;</span> <span><span>[&gt; `Before_Copy_Last_Newies ]</span> <a href="argument-1-S/Private_layer/Hook/index.html#type-t">Hook.t</a></span> * <span>unit Lwt.t</span></code></dt><dt class="spec value" id="val-before_flip"><a href="#val-before_flip" class="anchor"></a><code><span class="keyword">val</span> before_flip : <span>(unit <span>&#45;&gt;</span> <span>unit Lwt.t</span>)</span> <span>&#45;&gt;</span> <span><span>[&gt; `Before_Flip ]</span> <a href="argument-1-S/Private_layer/Hook/index.html#type-t">Hook.t</a></span> * <span>unit Lwt.t</span></code></dt><dt class="spec value" id="val-before_clear"><a href="#val-before_clear" class="anchor"></a><code><span class="keyword">val</span> before_clear : <span>(unit <span>&#45;&gt;</span> <span>unit Lwt.t</span>)</span> <span>&#45;&gt;</span> <span><span>[&gt; `Before_Clear ]</span> <a href="argument-1-S/Private_layer/Hook/index.html#type-t">Hook.t</a></span> * <span>unit Lwt.t</span></code></dt><dt class="spec value" id="val-after_clear"><a href="#val-after_clear" class="anchor"></a><code><span class="keyword">val</span> after_clear : <span>(unit <span>&#45;&gt;</span> <span>unit Lwt.t</span>)</span> <span>&#45;&gt;</span> <span><span>[&gt; `After_Clear ]</span> <a href="argument-1-S/Private_layer/Hook/index.html#type-t">Hook.t</a></span> * <span>unit Lwt.t</span></code></dt><dt class="spec value" id="val-test_find_during_freeze"><a href="#val-test_find_during_freeze" class="anchor"></a><code><span class="keyword">val</span> test_find_during_freeze : <a href="../../Irmin_test__/Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_add_during_freeze"><a href="#val-test_add_during_freeze" class="anchor"></a><code><span class="keyword">val</span> test_add_during_freeze : <a href="../../Irmin_test__/Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-test_add_again"><a href="#val-test_add_again" class="anchor"></a><code><span class="keyword">val</span> test_add_again : <a href="../../Irmin_test__/Common/index.html#type-t">Irmin_test__.Common.t</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt></dl></div></body></html>