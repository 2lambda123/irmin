<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Pack_value (irmin-pack.Irmin_pack.Pack_value)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">irmin-pack</a> &#x00BB; <a href="../index.html">Irmin_pack</a> &#x00BB; Pack_value</nav><h1>Module <code>Irmin_pack.Pack_value</code></h1><p>This module defines abstractions over entries in the pack file, which are encoded as follows:</p><pre>      ┌────────┬────────┬──────────────┬─────────┐
      │  Hash  │  Kind  │  Len(Value)? │  Value  │
      └────────┴────────┴──────────────┴─────────┘
      ┆&lt;┄ H ┄┄&gt;┆&lt;┄ K ┄┄&gt;┆&lt;┄┄┄┄ L? ┄┄┄┄&gt;┆&lt;┄┄ V ┄┄&gt;┆
      ┆&lt;┄┄┄┄┄┄┄┄┄┄┄ entry length, E ┄┄┄┄┄┄┄┄┄┄┄┄&gt;┆</pre><p>The fields are as follows:</p><ul><li><code>Hash</code>: the (fixed-length) hash of the data stored in this entry;</li></ul><ul><li><code>Kind</code>: the <i>kind</i> of data being stored (contents, nodes, commits etc.), encoded as a single &quot;magic&quot; character;</li></ul><ul><li><code>Len(Value)</code>: an optional length header for the <code>Value</code> section of the entry (<i>not</i> including the length of the length header itself), encoded using a variable-length encoding (LEB128). The presence of a length header is determined by the <code>Kind</code> character.</li></ul><ul><li><code>Value</code>: the data itself.</li></ul><p>The length of the overall pack <i>entry</i>, as referenced in the <code>Pack_index</code> or in a direct <a href="../../Irmin_pack__/Pack_key/index.html#type-t"><code>Pack_key.t</code></a>, is equal to <code>E = H + K + L + V</code>.</p></header><div><div class="spec include"><div class="doc"><div class="spec module" id="module-Kind"><a href="#module-Kind" class="anchor"></a><code><span class="keyword">module</span> <a href="Kind/index.html">Kind</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module-type" id="module-type-S"><a href="#module-type-S" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-S/index.html">S</a> = <a href="../../Irmin_pack__/Pack_value_intf/index.html#module-type-S">Irmin_pack__.Pack_value_intf.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-S/index.html#type-kind">kind</a> := <a href="Kind/index.html#type-t">Kind.t</a></code></div><div class="spec module-type" id="module-type-Persistent"><a href="#module-type-Persistent" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Persistent/index.html">Persistent</a> = <a href="../../Irmin_pack__/Pack_value_intf/index.html#module-type-Persistent">Irmin_pack__.Pack_value_intf.Persistent</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-Persistent/index.html#type-kind">kind</a> := <a href="Kind/index.html#type-t">Kind.t</a></code></div><div class="spec module-type" id="module-type-Config"><a href="#module-type-Config" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Config/index.html">Config</a> = <a href="../../Irmin_pack__/Pack_value_intf/index.html#module-type-Config">Irmin_pack__.Pack_value_intf.Config</a></code></div><div class="spec module" id="module-Of_contents"><a href="#module-Of_contents" class="anchor"></a><code><span class="keyword">module</span> Of_contents : <span class="keyword">functor</span> (<a href="Of_contents/argument-1-_/index.html">_</a> : <a href="index.html#module-type-Config">Config</a>) <span>&#45;&gt;</span> <span class="keyword">functor</span> (<a href="Of_contents/argument-2-Hash/index.html">Hash</a> : <a href="../../../irmin/Irmin/Hash/index.html#module-type-S">Irmin.Hash.S</a>) <span>&#45;&gt;</span> <span class="keyword">functor</span> (<a href="Of_contents/argument-3-Key/index.html">Key</a> : <a href="../../Irmin_pack__/Pack_value_intf/index.html#module-type-T">Irmin_pack__.Pack_value_intf.T</a>) <span>&#45;&gt;</span> <span class="keyword">functor</span> (<a href="Of_contents/argument-4-Contents/index.html">Contents</a> : <a href="../../../irmin/Irmin/Contents/index.html#module-type-S">Irmin.Contents.S</a>) <span>&#45;&gt;</span> <a href="index.html#module-type-S">S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="index.html#module-Of_contents">Of_contents</a>.t = <a href="Of_contents/argument-4-Contents/index.html#type-t">Contents.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="Of_contents/index.html#type-hash">hash</a> = <a href="Of_contents/argument-2-Hash/index.html#type-t">Hash.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="Of_contents/index.html#type-key">key</a> = <a href="Of_contents/argument-3-Key/index.html#type-t">Key.t</a></code></div><div class="spec module" id="module-Of_commit"><a href="#module-Of_commit" class="anchor"></a><code><span class="keyword">module</span> Of_commit : <span class="keyword">functor</span> (<a href="Of_commit/argument-1-Hash/index.html">Hash</a> : <a href="../../../irmin/Irmin/Hash/index.html#module-type-S">Irmin.Hash.S</a>) <span>&#45;&gt;</span> <span class="keyword">functor</span> (<a href="Of_commit/argument-2-Key/index.html">Key</a> : <a href="../../../irmin/Irmin/Key/index.html#module-type-S">Irmin.Key.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="Of_commit/index.html#type-hash">hash</a> = <a href="Of_commit/argument-1-Hash/index.html#type-t">Hash.t</a>) <span>&#45;&gt;</span> <span class="keyword">functor</span> (<a href="Of_commit/argument-3-Commit/index.html">Commit</a> : <a href="../../../irmin/Irmin__Commit/Generic_key/index.html#module-type-S">Irmin.Commit.Generic_key.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="Of_commit/index.html#type-node_key">node_key</a> = <a href="Of_commit/argument-2-Key/index.html#type-t">Key.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="Of_commit/index.html#type-commit_key">commit_key</a> = <a href="Of_commit/argument-2-Key/index.html#type-t">Key.t</a>) <span>&#45;&gt;</span> <a href="index.html#module-type-S">S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="index.html#module-Of_commit">Of_commit</a>.t = <a href="Of_commit/argument-3-Commit/index.html#type-t">Commit.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="Of_commit/index.html#type-hash">hash</a> = <a href="Of_commit/argument-1-Hash/index.html#type-t">Hash.t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="Of_commit/index.html#type-key">key</a> = <a href="Of_commit/argument-2-Key/index.html#type-t">Key.t</a></code></div></div></div></div></div></body></html>