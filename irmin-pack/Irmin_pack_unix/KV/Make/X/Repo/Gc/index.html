<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Gc (irmin-pack.Irmin_pack_unix.KV.Make.X.Repo.Gc)</title><link rel="stylesheet" href="../../../../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../../../../index.html">irmin-pack</a> &#x00BB; <a href="../../../../../index.html">Irmin_pack_unix</a> &#x00BB; <a href="../../../../index.html">KV</a> &#x00BB; <a href="../../../index.html">Make</a> &#x00BB; <a href="../../index.html">X</a> &#x00BB; <a href="../index.html">Repo</a> &#x00BB; Gc</nav><header class="odoc-preamble"><h1>Module <code><span>Repo.Gc</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value" id="val-unlink_result_file" class="anchored"><a href="#val-unlink_result_file" class="anchor"></a><code><span><span class="keyword">val</span> unlink_result_file : <span>root:string <span class="arrow">&#45;&gt;</span></span> <span>generation:int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-start" class="anchored"><a href="#val-start" class="anchor"></a><code><span><span class="keyword">val</span> start : 
  <span>unlink:bool <span class="arrow">&#45;&gt;</span></span>
  <span>use_auto_finalisation:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../index.html#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../XKey/index.html#type-t">XKey.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( unit,
    <span>[&gt; <span>`Commit_key_is_dangling of string</span>
    <span>| `Gc_disallowed</span>
    <span>| `Gc_forbidden_during_batch</span> ]</span> )</span>
    <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-open_new_suffix" class="anchored"><a href="#val-open_new_suffix" class="anchor"></a><code><span><span class="keyword">val</span> open_new_suffix : 
  <span>root:string <span class="arrow">&#45;&gt;</span></span>
  <span>generation:int <span class="arrow">&#45;&gt;</span></span>
  <span>end_offset:<span class="xref-unresolved">Optint</span>.Int63.t <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <a href="../../../Aof/index.html#type-t">Aof.t</a>,
    <span>[&gt; `Closed
    <span>| `Inconsistent_store</span>
    <span>| `Invalid_argument</span>
    <span><span>| `Io_misc</span> of <a href="../../../Aof/Io/index.html#type-misc_error">Aof.Io.misc_error</a></span>
    <span>| `No_such_file_or_directory</span>
    <span>| `Not_a_file</span>
    <span>| `Read_out_of_bounds</span> ]</span> )</span>
    <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-transfer_latest_newies" class="anchored"><a href="#val-transfer_latest_newies" class="anchor"></a><code><span><span class="keyword">val</span> transfer_latest_newies : 
  <span>generation:int <span class="arrow">&#45;&gt;</span></span>
  <span>right_start_offset:<span class="xref-unresolved">Optint</span>.Int63.t <span class="arrow">&#45;&gt;</span></span>
  <span>copy_end_offset:<span class="xref-unresolved">Optint</span>.Int63.t <span class="arrow">&#45;&gt;</span></span>
  <span>root:string <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../index.html#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="xref-unresolved">Optint</span>.Int63.t, <span>[&gt; <a href="../../../Errs/index.html#type-t">Errs.t</a> ]</span> )</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-swap_and_purge" class="anchored"><a href="#val-swap_and_purge" class="anchor"></a><code><span><span class="keyword">val</span> swap_and_purge : 
  <span>generation:int <span class="arrow">&#45;&gt;</span></span>
  <span>right_start_offset:<span class="xref-unresolved">Optint</span>.Int63.t <span class="arrow">&#45;&gt;</span></span>
  <span>right_end_offset:<span class="xref-unresolved">Optint</span>.Int63.t <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../index.html#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( unit, <span>[&gt; <a href="../../../File_manager/Errs/index.html#type-t">File_manager.Errs.t</a> ]</span> )</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_status" class="anchored"><a href="#val-pp_status" class="anchor"></a><code><span><span class="keyword">val</span> pp_status : <span><a href="../../../../../Async/Unix/index.html#type-status">Async.status</a> <span class="xref-unresolved">Irmin</span>.Type.pp</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_gc_error" class="anchored"><a href="#val-pp_gc_error" class="anchor"></a><code><span><span class="keyword">val</span> pp_gc_error : <span><a href="../../../File_manager/index.html#type-read_gc_output_error">File_manager.read_gc_output_error</a> <span class="xref-unresolved">Irmin</span>.Type.pp</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-unlink_all" class="anchored"><a href="#val-unlink_all" class="anchor"></a><code><span><span class="keyword">val</span> unlink_all : <span>root:string <span class="arrow">&#45;&gt;</span></span> <span>generation:int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-gc_errors" class="anchored"><a href="#val-gc_errors" class="anchor"></a><code><span><span class="keyword">val</span> gc_errors : 
  <span><span>[&lt; `Cancelled <span><span>| `Failure</span> of string</span> <span>| `Running</span> <span>| `Success</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span class="type-var">'a</span>,
    <span>[&lt; <span>`Corrupted_gc_result_file of string</span> <span><span>| `Gc_process_error</span> of string</span> ]</span> )</span>
    <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span class="type-var">'b</span>,
    <span>[&gt; <span>`Gc_process_died_without_result_file of string</span>
    <span><span>| `Gc_process_error</span> of string</span> ]</span> )</span>
    <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-finalise" class="anchored"><a href="#val-finalise" class="anchor"></a><code><span><span class="keyword">val</span> finalise : 
  <span>wait:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../index.html#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>( <span>[&gt; <span>`Finalised of <a href="../../index.html#type-gc_stats">gc_stats</a></span> <span>| `Idle</span> <span>| `Running</span> ]</span>, <span>[&gt; <a href="../../../File_manager/Errs/index.html#type-t">File_manager.Errs.t</a> ]</span> )</span>
    <span class="xref-unresolved">Stdlib</span>.result</span>
    <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-start_or_skip" class="anchored"><a href="#val-start_or_skip" class="anchor"></a><code><span><span class="keyword">val</span> start_or_skip : 
  <span>unlink:bool <span class="arrow">&#45;&gt;</span></span>
  <span>use_auto_finalisation:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../index.html#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../XKey/index.html#type-t">XKey.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( bool,
    <span>[&gt; <span>`Commit_key_is_dangling of string</span>
    <span>| `Gc_disallowed</span>
    <span>| `Gc_forbidden_during_batch</span> ]</span> )</span>
    <span class="xref-unresolved">Lwt_result</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-start_exn" class="anchored"><a href="#val-start_exn" class="anchor"></a><code><span><span class="keyword">val</span> start_exn : 
  <span>?unlink:bool <span class="arrow">&#45;&gt;</span></span>
  <span>use_auto_finalisation:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../index.html#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../../XKey/index.html#type-t">XKey.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>bool <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-finalise_exn" class="anchored"><a href="#val-finalise_exn" class="anchor"></a><code><span><span class="keyword">val</span> finalise_exn : 
  <span>?wait:bool <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../index.html#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>[&gt; <span>`Finalised of <a href="../../index.html#type-gc_stats">gc_stats</a></span> <span>| `Idle</span> <span>| `Running</span> ]</span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_finished" class="anchored"><a href="#val-is_finished" class="anchor"></a><code><span><span class="keyword">val</span> is_finished : <span><a href="../index.html#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-on_finalise" class="anchored"><a href="#val-on_finalise" class="anchor"></a><code><span><span class="keyword">val</span> on_finalise : 
  <span><a href="../index.html#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>( <span><span><span>( <a href="../../index.html#type-gc_stats">gc_stats</a>, <a href="../../../Errs/index.html#type-t">Errs.t</a> )</span> <span class="xref-unresolved">Stdlib</span>.result</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="xref-unresolved">Lwt</span>.t</span> )</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-try_auto_finalise_exn" class="anchored"><a href="#val-try_auto_finalise_exn" class="anchor"></a><code><span><span class="keyword">val</span> try_auto_finalise_exn : <span><a href="../index.html#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="xref-unresolved">Lwt</span>.t</span></span></code></div></div></div></body></html>