<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="IrminStore.RW_BINARY.html">
<link rel="Up" href="IrminStore.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Irmin" rel="Chapter" href="Irmin.html">
<link title="IrminGraph" rel="Chapter" href="IrminGraph.html">
<link title="IrminKey" rel="Chapter" href="IrminKey.html">
<link title="IrminSnapshot" rel="Chapter" href="IrminSnapshot.html">
<link title="IrminMisc" rel="Chapter" href="IrminMisc.html">
<link title="IrminCommit" rel="Chapter" href="IrminCommit.html">
<link title="IrminStore" rel="Chapter" href="IrminStore.html">
<link title="IrminBlock" rel="Chapter" href="IrminBlock.html">
<link title="IrminTag" rel="Chapter" href="IrminTag.html">
<link title="IrminContents" rel="Chapter" href="IrminContents.html">
<link title="IrminNode" rel="Chapter" href="IrminNode.html">
<link title="IrminVersion" rel="Chapter" href="IrminVersion.html">
<link title="IrminDump" rel="Chapter" href="IrminDump.html">
<link title="IrminPath" rel="Chapter" href="IrminPath.html">
<link title="IrminWatch" rel="Chapter" href="IrminWatch.html">
<link title="IrminMerge" rel="Chapter" href="IrminMerge.html">
<link title="IrminView" rel="Chapter" href="IrminView.html">
<link title="IrminOrigin" rel="Chapter" href="IrminOrigin.html">
<link title="IrminIdent" rel="Chapter" href="IrminIdent.html">
<link title="IrminBranch" rel="Chapter" href="IrminBranch.html">
<link title="IrminSync" rel="Chapter" href="IrminSync.html"><title>IrminStore.S</title>
</head>
<body>
<div class="navbar"><a class="pre" href="IrminStore.RW_BINARY.html" title="IrminStore.RW_BINARY">Previous</a>
&nbsp;<a class="up" href="IrminStore.html" title="IrminStore">Up</a>
&nbsp;</div>
<h1>Module type <a href="type_IrminStore.S.html">IrminStore.S</a></h1>

<pre><span class="keyword">module type</span> S = <code class="code">sig</code> <a href="IrminStore.S.html">..</a> <code class="code">end</code></pre><hr width="100%">
<br>
A branch-consistent store is a mutable store which supports
      fork/join operations.<br>

<pre><span class="keyword">include</span> <a href="IrminStore.RW.html">IrminStore.RW</a></pre>

<pre><span id="TYPEbranch"><span class="keyword">type</span> <code class="type"></code>branch</span> </pre>
<div class="info ">
Branch can be either a tag name or a commit hash. In the later
      case, the branch is said to be in a 'detached' state.<br>
</div>


<pre><span id="TYPEorigin"><span class="keyword">type</span> <code class="type"></code>origin</span> </pre>
<div class="info ">
Provenance trackers.<br>
</div>


<pre><span id="VALcreate"><span class="keyword">val</span> create</span> : <code class="type">?branch:<a href="IrminStore.S.html#TYPEbranch">branch</a> -> unit -> t Lwt.t</code></pre><div class="info ">
Create a store handle. The default branch, if not set, is
      <code class="code">Tag.master</code>.<br>
</div>

<pre><span id="VALdetach"><span class="keyword">val</span> detach</span> : <code class="type">t -> unit Lwt.t</code></pre><div class="info ">
Detach the current branch (ie. it is not assiaciated to a tag
      name anymore).<br>
</div>

<pre><span id="VALbranch"><span class="keyword">val</span> branch</span> : <code class="type">t -> <a href="IrminStore.S.html#TYPEbranch">branch</a> option</code></pre><div class="info ">
Return the branch of the given store handle.<br>
</div>

<pre><span id="VALbranch_exn"><span class="keyword">val</span> branch_exn</span> : <code class="type">t -> <a href="IrminStore.S.html#TYPEbranch">branch</a></code></pre><div class="info ">
Same as <code class="code">branch</code> but raise <code class="code">Not_found</code> in case of a detached
      head.<br>
</div>

<pre><span id="VALset_branch"><span class="keyword">val</span> set_branch</span> : <code class="type">t -> <a href="IrminStore.S.html#TYPEbranch">branch</a> -> unit</code></pre><div class="info ">
Update the current branch name.<br>
</div>

<pre><span id="VALupdate"><span class="keyword">val</span> update</span> : <code class="type">t -> ?origin:<a href="IrminStore.S.html#TYPEorigin">origin</a> -> key -> value -> unit Lwt.t</code></pre><div class="info ">
Same as <code class="code">RW.update</code> but with an optional <code class="code">origin</code>
      argument to keep track of provenance.<br>
</div>

<pre><span id="VALremove"><span class="keyword">val</span> remove</span> : <code class="type">t -> ?origin:<a href="IrminStore.S.html#TYPEorigin">origin</a> -> key -> unit Lwt.t</code></pre><div class="info ">
Same as <code class="code">RW.remove</code> but with an optional <code class="code">origin</code>
      argument to keep track of provenance.<br>
</div>

<pre><span id="VALclone"><span class="keyword">val</span> clone</span> : <code class="type">t -> <a href="IrminStore.S.html#TYPEbranch">branch</a> -> t option Lwt.t</code></pre><div class="info ">
Fork the store, using the given branch name. Return <code class="code">None</code> if the
      branch already exists.<br>
</div>

<pre><span id="VALclone_force"><span class="keyword">val</span> clone_force</span> : <code class="type">t -> <a href="IrminStore.S.html#TYPEbranch">branch</a> -> t Lwt.t</code></pre><div class="info ">
Same as <code class="code">clone</code> but delete and update the existing branch if a
      branch with the same name already exists.<br>
</div>

<pre><span id="VALswitch"><span class="keyword">val</span> switch</span> : <code class="type">t -> <a href="IrminStore.S.html#TYPEbranch">branch</a> -> unit Lwt.t</code></pre><div class="info ">
Switch the database contents the be same as the contents of the
      given branch. The two branches are still independant.<br>
</div>

<pre><span id="VALmerge"><span class="keyword">val</span> merge</span> : <code class="type">t -><br>       ?origin:<a href="IrminStore.S.html#TYPEorigin">origin</a> -><br>       <a href="IrminStore.S.html#TYPEbranch">branch</a> -> unit <a href="IrminMerge.html#TYPEresult">IrminMerge.result</a> Lwt.t</code></pre><div class="info ">
<code class="code">merge db t</code> merges the branch <code class="code">t</code> into the current database
      branch. The two branches are still independant.<br>
</div>

<pre><span id="VALmerge_exn"><span class="keyword">val</span> merge_exn</span> : <code class="type">t -> ?origin:<a href="IrminStore.S.html#TYPEorigin">origin</a> -> <a href="IrminStore.S.html#TYPEbranch">branch</a> -> unit Lwt.t</code></pre><div class="info ">
Same as <code class="code">merge</code> but raise <code class="code">Conflict "&lt;msg&gt;"</code> in case of a
      conflict.<br>
</div>
</body></html>